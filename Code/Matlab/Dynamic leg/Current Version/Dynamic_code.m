function dy = Dynamic_code(y,u,P)

y1 = y(1);
y2 = y(2);
y3 = y(3);
y4 = y(4);
y5 = y(5);
y6 = y(6);
u1 = u(1);
u2 = u(2);
u3 = u(3);

L1=P.L1;
L2=P.L2;
L3=P.L3;
M1=P.M1;
M2=P.M2;
M3=P.M3;
R1 = P.R1;
R2 = P.R2;
R3 = P.R3;
g=P.g;

dy1 = y2;
dy2 = (2*L2^2*M3*R3*u1 - 2*L2^2*M3*R3*u2 + 4*M2*R2^2*R3*u1 - 4*M2*R2^2*R3*u2 + 2*L1*L2^2*M3*u3*cos(y3 - y5) - 2*L2^2*M3*R3*u1*cos(2*y5) + 2*L2^2*M3*R3*u2*cos(2*y5) - 2*L1*L2^2*M3*u3*cos(y3 + y5) - 4*L1*M2*R2^2*u3*cos(y3 + y5) + 2*L1*L2*M2*R2*u3*cos(y3 - y5) + 2*L1*L2*M3*R3*u2*cos(y3 + 2*y5) - 2*L1*L2*M3*R3*u3*cos(y3 + 2*y5) + 4*L1*M2^2*R2^3*R3*y2^2*sin(y3) + 4*L1*M2^2*R2^3*R3*y4^2*sin(y3) - 2*L1*M2^2*R2^2*R3*g*cos(y1) + 2*L1*L2*M2*R2*u3*cos(y3 + y5) + 2*L1*M2^2*R2^2*R3*g*cos(y1 + 2*y3) + 2*L1^2*M2^2*R2^2*R3*y2^2*sin(2*y3) - 2*L1*L2*M3*R3*u2*cos(y3) + 2*L1*L2*M3*R3*u3*cos(y3) - 4*L1*M2*R2*R3*u2*cos(y3) + 4*L1*M2*R2*R3*u3*cos(y3) + 2*L1^2*M2*M3*R2^2*R3*y2^2*sin(2*y3 + 2*y5) + 8*L1*M2^2*R2^3*R3*y2*y4*sin(y3) + 4*L1*M2*M3*R2^2*R3^2*y2^2*sin(y3 + y5) + 4*L1*M2*M3*R2^2*R3^2*y4^2*sin(y3 + y5) + 4*L1*M2*M3*R2^2*R3^2*y6^2*sin(y3 + y5) - 2*L1*L2^2*M2*M3*R3*g*cos(y1) - 2*L2^2*M1*M3*R1*R3*g*cos(y1) - 2*L1*M2*M3*R2^2*R3*g*cos(y1) - 4*M1*M2*R1*R2^2*R3*g*cos(y1) + 2*L1*M2*M3*R2^2*R3*g*cos(y1 + 2*y3 + 2*y5) + L1*L2^2*M2*M3*R3*g*cos(y1 - 2*y5) + L1*L2^2*M2*M3*R3*g*cos(y1 + 2*y5) + L2^2*M1*M3*R1*R3*g*cos(y1 - 2*y5) + L2^2*M1*M3*R1*R3*g*cos(y1 + 2*y5) - 2*L1*L2*M2*M3*R2*R3^2*y2^2*sin(y3 + y5) - 2*L1*L2*M2*M3*R2*R3^2*y4^2*sin(y3 + y5) - 2*L1*L2*M2*M3*R2*R3^2*y6^2*sin(y3 + y5) + 2*L1*L2*M2*M3*R2^2*R3*y2^2*sin(y3) + 2*L1*L2^2*M2*M3*R2*R3*y2^2*sin(y3) + 2*L1*L2*M2*M3*R2^2*R3*y4^2*sin(y3) + 2*L1*L2^2*M2*M3*R2*R3*y4^2*sin(y3) + 8*L1*M2*M3*R2^2*R3^2*y2*y4*sin(y3 + y5) + 8*L1*M2*M3*R2^2*R3^2*y2*y6*sin(y3 + y5) + 8*L1*M2*M3*R2^2*R3^2*y4*y6*sin(y3 + y5) + 2*L1*L2*M2*M3*R2*R3*g*cos(y1) - 2*L1*L2*M2*M3*R2*R3*g*cos(y1 + 2*y3 + 2*y5) + 2*L1*L2*M2*M3*R2*R3^2*y2^2*sin(y3 - y5) + 2*L1*L2*M2*M3*R2^2*R3*y2^2*sin(y3 + 2*y5) - 2*L1*L2^2*M2*M3*R2*R3*y2^2*sin(y3 + 2*y5) + 2*L1*L2*M2*M3*R2*R3^2*y4^2*sin(y3 - y5) + 2*L1*L2*M2*M3*R2^2*R3*y4^2*sin(y3 + 2*y5) - 2*L1*L2^2*M2*M3*R2*R3*y4^2*sin(y3 + 2*y5) + 2*L1*L2*M2*M3*R2*R3^2*y6^2*sin(y3 - y5) + 2*L1*L2*M2*M3*R2*R3*g*cos(y1 + 2*y3) - L1*L2*M2*M3*R2*R3*g*cos(y1 - 2*y5) - L1*L2*M2*M3*R2*R3*g*cos(y1 + 2*y5) + 2*L1^2*L2*M2*M3*R2*R3*y2^2*sin(2*y3) - 2*L1^2*L2*M2*M3*R2*R3*y2^2*sin(2*y3 + 2*y5) - 4*L1*L2*M2*M3*R2*R3^2*y2*y4*sin(y3 + y5) - 4*L1*L2*M2*M3*R2*R3^2*y2*y6*sin(y3 + y5) - 4*L1*L2*M2*M3*R2*R3^2*y4*y6*sin(y3 + y5) + 4*L1*L2*M2*M3*R2^2*R3*y2*y4*sin(y3) + 4*L1*L2^2*M2*M3*R2*R3*y2*y4*sin(y3) + 4*L1*L2*M2*M3*R2*R3^2*y2*y4*sin(y3 - y5) + 4*L1*L2*M2*M3*R2^2*R3*y2*y4*sin(y3 + 2*y5) - 4*L1*L2^2*M2*M3*R2*R3*y2*y4*sin(y3 + 2*y5) + 4*L1*L2*M2*M3*R2*R3^2*y2*y6*sin(y3 - y5) + 4*L1*L2*M2*M3*R2*R3^2*y4*y6*sin(y3 - y5))/(2*R3*(L1^2*M2^2*R2^2 + L1^2*L2^2*M2*M3 + L2^2*M1*M3*R1^2 + L1^2*M2*M3*R2^2 + 2*M1*M2*R1^2*R2^2 - L1^2*M2^2*R2^2*cos(2*y3) - L1^2*L2*M2*M3*R2 - L1^2*L2^2*M2*M3*cos(2*y5) - L2^2*M1*M3*R1^2*cos(2*y5) - L1^2*M2*M3*R2^2*cos(2*y3 + 2*y5) - L1^2*L2*M2*M3*R2*cos(2*y3) + L1^2*L2*M2*M3*R2*cos(2*y5) + L1^2*L2*M2*M3*R2*cos(2*y3 + 2*y5)))
dy3 = y4;
dy4 = -(4*L1^2*M2*R3*u3 - 4*L1^2*M2*R3*u2 - 2*L1^2*M3*R3*u2 + 2*L2^2*M3*R3*u1 + 2*L1^2*M3*R3*u3 - 2*L2^2*M3*R3*u2 - 4*M1*R1^2*R3*u2 + 4*M1*R1^2*R3*u3 + 4*M2*R2^2*R3*u1 - 4*M2*R2^2*R3*u2 + 2*L1*L2^2*M3*u3*cos(y3 - y5) - 2*L1^2*L2*M3*u3*cos(2*y3 + y5) - 2*L1^2*M2*R2*u3*cos(2*y3 + y5) - 2*L2^2*M3*R3*u1*cos(2*y5) + 2*L2^2*M3*R3*u2*cos(2*y5) + 2*L1^2*M3*R3*u2*cos(2*y3 + 2*y5) - 2*L1^2*M3*R3*u3*cos(2*y3 + 2*y5) - 2*L1*L2^2*M3*u3*cos(y3 + y5) - 4*L1*M2*R2^2*u3*cos(y3 + y5) + 4*L1^2*L2*M2*u3*cos(y5) + 2*L1^2*L2*M3*u3*cos(y5) + 4*L2*M1*R1^2*u3*cos(y5) - 2*L1^2*M2*R2*u3*cos(y5) + 2*L1*L2*M2*R2*u3*cos(y3 - y5) - 2*L1*L2*M3*R3*u1*cos(y3 + 2*y5) + 4*L1*L2*M3*R3*u2*cos(y3 + 2*y5) - 2*L1*L2*M3*R3*u3*cos(y3 + 2*y5) + 4*L1*M2^2*R2^3*R3*y2^2*sin(y3) + 4*L1^3*M2^2*R2*R3*y2^2*sin(y3) + 4*L1*M2^2*R2^3*R3*y4^2*sin(y3) + 2*L1^2*M2^2*R2*R3*g*cos(y1 + y3) - 2*L1*M2^2*R2^2*R3*g*cos(y1) + 2*L1*L2*M2*R2*u3*cos(y3 + y5) - 2*L1^2*M2^2*R2*R3*g*cos(y1 - y3) + 2*L1*M2^2*R2^2*R3*g*cos(y1 + 2*y3) + 4*L1^2*M2^2*R2^2*R3*y2^2*sin(2*y3) + 2*L1^2*M2^2*R2^2*R3*y4^2*sin(2*y3) + 2*L1*L2*M3*R3*u1*cos(y3) - 4*L1*L2*M3*R3*u2*cos(y3) + 2*L1*L2*M3*R3*u3*cos(y3) + 4*L1*M2*R2*R3*u1*cos(y3) - 8*L1*M2*R2*R3*u2*cos(y3) + 4*L1*M2*R2*R3*u3*cos(y3) + 2*L1^2*M2*M3*R2^2*R3*y2^2*sin(2*y3 + 2*y5) + 2*L1^3*L2*M2*M3*R3*y2^2*sin(y3) + 2*L1^3*M2*M3*R2*R3*y2^2*sin(y3) - L1^2*L2*M2*M3*R3*g*cos(y1 + y3 + 2*y5) + 8*L1*M2^2*R2^3*R3*y2*y4*sin(y3) - 2*L2*M1*M3*R1^2*R3*g*cos(y1 + y3 + 2*y5) + L1^2*M2*M3*R2*R3*g*cos(y1 + y3 + 2*y5) - 2*L1^3*L2*M2*M3*R3*y2^2*sin(y3 + 2*y5) + 2*L1^3*M2*M3*R2*R3*y2^2*sin(y3 + 2*y5) + 4*L1*M2*M3*R2^2*R3^2*y2^2*sin(y3 + y5) + 4*L1*M2*M3*R2^2*R3^2*y4^2*sin(y3 + y5) + 4*L1*M2*M3*R2^2*R3^2*y6^2*sin(y3 + y5) + L1^2*L2*M2*M3*R3*g*cos(y1 + y3) + 2*L2*M1*M3*R1^2*R3*g*cos(y1 + y3) + L1^2*M2*M3*R2*R3*g*cos(y1 + y3) - 4*L1^2*L2*M2*M3*R3^2*y2^2*sin(y5) - 4*L1^2*L2*M2*M3*R3^2*y4^2*sin(y5) - 4*L1^2*L2*M2*M3*R3^2*y6^2*sin(y5) + 4*M1*M2*R1^2*R2*R3*g*cos(y1 + y3) - 4*L2*M1*M3*R1^2*R3^2*y2^2*sin(y5) + 2*L1^2*M2*M3*R2*R3^2*y2^2*sin(y5) - 4*L2*M1*M3*R1^2*R3^2*y4^2*sin(y5) + 2*L1^2*M2*M3*R2*R3^2*y4^2*sin(y5) - 4*L2*M1*M3*R1^2*R3^2*y6^2*sin(y5) + 2*L1^2*M2*M3*R2*R3^2*y6^2*sin(y5) - 2*L1*L2^2*M2*M3*R3*g*cos(y1) - 2*L2^2*M1*M3*R1*R3*g*cos(y1) - 2*L1*M2*M3*R2^2*R3*g*cos(y1) - 4*M1*M2*R1*R2^2*R3*g*cos(y1) + L1^2*L2*M2*M3*R3*g*cos(y3 - y1 + 2*y5) - L1^2*M2*M3*R2*R3*g*cos(y3 - y1 + 2*y5) + 2*L1*M2*M3*R2^2*R3*g*cos(y1 + 2*y3 + 2*y5) + 2*L1^2*M2*M3*R2*R3^2*y2^2*sin(2*y3 + y5) + 2*L1^2*M2*M3*R2*R3^2*y4^2*sin(2*y3 + y5) + 2*L1^2*M2*M3*R2*R3^2*y6^2*sin(2*y3 + y5) - L1^2*L2*M2*M3*R3*g*cos(y1 - y3) + L1*L2^2*M2*M3*R3*g*cos(y1 - 2*y5) + L1*L2^2*M2*M3*R3*g*cos(y1 + 2*y5) - L1^2*M2*M3*R2*R3*g*cos(y1 - y3) + L2^2*M1*M3*R1*R3*g*cos(y1 - 2*y5) + L2^2*M1*M3*R1*R3*g*cos(y1 + 2*y5) - 2*L1^2*L2^2*M2*M3*R3*y2^2*sin(2*y5) - 2*L1^2*L2^2*M2*M3*R3*y4^2*sin(2*y5) - 2*L2^2*M1*M3*R1^2*R3*y2^2*sin(2*y5) - 2*L2^2*M1*M3*R1^2*R3*y4^2*sin(2*y5) + 4*L1^2*M2^2*R2^2*R3*y2*y4*sin(2*y3) + L1*L2*M1*M3*R1*R3*g*cos(y1 + y3 + 2*y5) - 2*L1*L2*M2*M3*R2*R3^2*y2^2*sin(y3 + y5) - 2*L1*L2*M2*M3*R2*R3^2*y4^2*sin(y3 + y5) - 2*L1*L2*M2*M3*R2*R3^2*y6^2*sin(y3 + y5) - L1*L2*M1*M3*R1*R3*g*cos(y1 + y3) - 2*L1*M1*M2*R1*R2*R3*g*cos(y1 + y3) + 2*L1*L2*M1*M3*R1^2*R3*y2^2*sin(y3) + 2*L1*L2*M2*M3*R2^2*R3*y2^2*sin(y3) + 2*L1*L2^2*M2*M3*R2*R3*y2^2*sin(y3) + 2*L1*L2*M2*M3*R2^2*R3*y4^2*sin(y3) + 2*L1*L2^2*M2*M3*R2*R3*y4^2*sin(y3) + 8*L1*M2*M3*R2^2*R3^2*y2*y4*sin(y3 + y5) + 8*L1*M2*M3*R2^2*R3^2*y2*y6*sin(y3 + y5) + 8*L1*M2*M3*R2^2*R3^2*y4*y6*sin(y3 + y5) + 4*L1*M1*M2*R1^2*R2*R3*y2^2*sin(y3) + 2*L1*L2*M2*M3*R2*R3*g*cos(y1) - 8*L1^2*L2*M2*M3*R3^2*y2*y4*sin(y5) - 8*L1^2*L2*M2*M3*R3^2*y2*y6*sin(y5) - 8*L1^2*L2*M2*M3*R3^2*y4*y6*sin(y5) - 8*L2*M1*M3*R1^2*R3^2*y2*y4*sin(y5) + 4*L1^2*M2*M3*R2*R3^2*y2*y4*sin(y5) - 8*L2*M1*M3*R1^2*R3^2*y2*y6*sin(y5) + 4*L1^2*M2*M3*R2*R3^2*y2*y6*sin(y5) - 8*L2*M1*M3*R1^2*R3^2*y4*y6*sin(y5) + 4*L1^2*M2*M3*R2*R3^2*y4*y6*sin(y5) + L1*L2*M1*M3*R1*R3*g*cos(y3 - y1 + 2*y5) - 2*L1*L2*M2*M3*R2*R3*g*cos(y1 + 2*y3 + 2*y5) - 2*L1*L2*M1*M3*R1^2*R3*y2^2*sin(y3 + 2*y5) + 2*L1*L2*M2*M3*R2*R3^2*y2^2*sin(y3 - y5) + 2*L1*L2*M2*M3*R2^2*R3*y2^2*sin(y3 + 2*y5) - 2*L1*L2^2*M2*M3*R2*R3*y2^2*sin(y3 + 2*y5) + 2*L1*L2*M2*M3*R2*R3^2*y4^2*sin(y3 - y5) + 2*L1*L2*M2*M3*R2^2*R3*y4^2*sin(y3 + 2*y5) - 2*L1*L2^2*M2*M3*R2*R3*y4^2*sin(y3 + 2*y5) + 2*L1*L2*M2*M3*R2*R3^2*y6^2*sin(y3 - y5) - L1*L2*M1*M3*R1*R3*g*cos(y1 - y3) + 2*L1*L2*M2*M3*R2*R3*g*cos(y1 + 2*y3) - L1*L2*M2*M3*R2*R3*g*cos(y1 - 2*y5) - L1*L2*M2*M3*R2*R3*g*cos(y1 + 2*y5) - 2*L1*M1*M2*R1*R2*R3*g*cos(y1 - y3) + 4*L1^2*L2*M2*M3*R2*R3*y2^2*sin(2*y3) + 2*L1^2*L2*M2*M3*R2*R3*y2^2*sin(2*y5) + 2*L1^2*L2*M2*M3*R2*R3*y4^2*sin(2*y3) + 2*L1^2*L2*M2*M3*R2*R3*y4^2*sin(2*y5) + 4*L1^2*M2*M3*R2*R3^2*y2*y4*sin(2*y3 + y5) + 4*L1^2*M2*M3*R2*R3^2*y2*y6*sin(2*y3 + y5) + 4*L1^2*M2*M3*R2*R3^2*y4*y6*sin(2*y3 + y5) - 4*L1^2*L2^2*M2*M3*R3*y2*y4*sin(2*y5) - 4*L2^2*M1*M3*R1^2*R3*y2*y4*sin(2*y5) - 2*L1^2*L2*M2*M3*R2*R3*y2^2*sin(2*y3 + 2*y5) - 4*L1*L2*M2*M3*R2*R3^2*y2*y4*sin(y3 + y5) - 4*L1*L2*M2*M3*R2*R3^2*y2*y6*sin(y3 + y5) - 4*L1*L2*M2*M3*R2*R3^2*y4*y6*sin(y3 + y5) + 4*L1*L2*M2*M3*R2^2*R3*y2*y4*sin(y3) + 4*L1*L2^2*M2*M3*R2*R3*y2*y4*sin(y3) + 4*L1*L2*M2*M3*R2*R3^2*y2*y4*sin(y3 - y5) + 4*L1*L2*M2*M3*R2^2*R3*y2*y4*sin(y3 + 2*y5) - 4*L1*L2^2*M2*M3*R2*R3*y2*y4*sin(y3 + 2*y5) + 4*L1*L2*M2*M3*R2*R3^2*y2*y6*sin(y3 - y5) + 4*L1*L2*M2*M3*R2*R3^2*y4*y6*sin(y3 - y5) + 4*L1^2*L2*M2*M3*R2*R3*y2*y4*sin(2*y3) + 4*L1^2*L2*M2*M3*R2*R3*y2*y4*sin(2*y5))/(2*R3*(L1^2*M2^2*R2^2 + L1^2*L2^2*M2*M3 + L2^2*M1*M3*R1^2 + L1^2*M2*M3*R2^2 + 2*M1*M2*R1^2*R2^2 - L1^2*M2^2*R2^2*cos(2*y3) - L1^2*L2*M2*M3*R2 - L1^2*L2^2*M2*M3*cos(2*y5) - L2^2*M1*M3*R1^2*cos(2*y5) - L1^2*M2*M3*R2^2*cos(2*y3 + 2*y5) - L1^2*L2*M2*M3*R2*cos(2*y3) + L1^2*L2*M2*M3*R2*cos(2*y5) + L1^2*L2*M2*M3*R2*cos(2*y3 + 2*y5)))
dy5 = y6;
dy6 = -(2*L1^2*M3^2*R3^2*u2 - 2*L1^2*M2^2*R2^2*u3 - 2*L1^2*L2^2*M3^2*u3 - 2*L1^2*M3^2*R3^2*u3 + 2*L1^2*L2^2*M3^2*u3*cos(2*y3) + 2*L1^2*M2^2*R2^2*u3*cos(2*y3) - 2*L1^2*M3^2*R3^2*u2*cos(2*y3 + 2*y5) + 2*L1^2*M3^2*R3^2*u3*cos(2*y3 + 2*y5) - 4*L1^2*L2^2*M2*M3*u3 - 4*L2^2*M1*M3*R1^2*u3 - 4*L1^2*M2*M3*R2^2*u3 + 4*L1^2*M2*M3*R3^2*u2 - 4*L1^2*M2*M3*R3^2*u3 - 4*M1*M2*R1^2*R2^2*u3 + 4*M1*M3*R1^2*R3^2*u2 - 4*M1*M3*R1^2*R3^2*u3 + 2*L1*L2^2*M3^2*R3*u1*cos(y3 + y5) - 2*L1*L2^2*M3^2*R3*u2*cos(y3 + y5) - 2*L1*L2*M3^2*R3^2*u1*cos(y3) + 2*L1*L2*M3^2*R3^2*u2*cos(y3) + 2*L1^2*L2*M3^2*R3*u2*cos(y5) - 4*L1^2*L2*M3^2*R3*u3*cos(y5) + 4*L1^2*L2*M2*M3*R2*u3 - 2*L1*L2^2*M3^2*R3*u1*cos(y3 - y5) + 2*L1*L2*M3^2*R3^2*u1*cos(y3 + 2*y5) + 2*L1*L2^2*M3^2*R3*u2*cos(y3 - y5) - 2*L1*L2*M3^2*R3^2*u2*cos(y3 + 2*y5) - 2*L1^2*L2*M3^2*R3*u2*cos(2*y3 + y5) + 4*L1^2*L2*M3^2*R3*u3*cos(2*y3 + y5) + 2*L1^3*M2^2*M3*R2^2*R3*y2^2*sin(y3 - y5) - 2*L1^2*M2*M3^2*R2*R3^3*y2^2*sin(2*y3 + y5) + 2*L1^2*M2^2*M3*R2^3*R3*y2^2*sin(2*y3 + y5) - 2*L1^3*M2*M3^2*R2*R3^2*y2^2*sin(y3 + 2*y5) - 2*L1^2*M2*M3^2*R2*R3^3*y4^2*sin(2*y3 + y5) + 2*L1^2*M2^2*M3*R2^3*R3*y4^2*sin(2*y3 + y5) - 2*L1^2*M2*M3^2*R2*R3^3*y6^2*sin(2*y3 + y5) - L1^2*L2*M2*M3^2*R3^2*g*cos(y1 + y3) - 2*L2*M1*M3^2*R1^2*R3^2*g*cos(y1 + y3) - L1^2*M2*M3^2*R2*R3^2*g*cos(y1 + y3) - 2*L1^2*M2^2*M3*R2*R3^2*g*cos(y1 + y3) - L1^2*L2*M2*M3^2*R3^2*g*cos(y3 - y1 + 2*y5) + L1^2*M2*M3^2*R2*R3^2*g*cos(y3 - y1 + 2*y5) + 4*L1*M2*M3*R2^2*R3*u1*cos(y3 + y5) - 4*L1*M2*M3*R2^2*R3*u2*cos(y3 + y5) + L1^2*L2*M2*M3^2*R3^2*g*cos(y1 - y3) + L1^2*M2*M3^2*R2*R3^2*g*cos(y1 - y3) + 2*L1^2*M2^2*M3*R2*R3^2*g*cos(y1 - y3) + 4*L1^2*L2^2*M2*M3^2*R3^2*y2^2*sin(2*y5) + 4*L1^2*L2^2*M2*M3^2*R3^2*y4^2*sin(2*y5) + 2*L1^2*L2^2*M2*M3^2*R3^2*y6^2*sin(2*y5) - 2*L1^2*M2^2*M3*R2^2*R3^2*y2^2*sin(2*y3) + 4*L2^2*M1*M3^2*R1^2*R3^2*y2^2*sin(2*y5) - 2*L1^2*M2^2*M3*R2^2*R3^2*y4^2*sin(2*y3) + 4*L2^2*M1*M3^2*R1^2*R3^2*y4^2*sin(2*y5) + 2*L2^2*M1*M3^2*R1^2*R3^2*y6^2*sin(2*y5) + 4*L1^2*L2*M2*M3*R3*u2*cos(y5) - 8*L1^2*L2*M2*M3*R3*u3*cos(y5) + L1^2*L2^2*M2*M3^2*R3*g*cos(y1 + y3 + y5) - 4*L1*M2*M3*R2*R3^2*u1*cos(y3) + 4*L1*M2*M3*R2*R3^2*u2*cos(y3) + 4*L2*M1*M3*R1^2*R3*u2*cos(y5) - 8*L2*M1*M3*R1^2*R3*u3*cos(y5) - 2*L1^2*M2*M3*R2*R3*u2*cos(y5) + 4*L1^2*M2*M3*R2*R3*u3*cos(y5) + 2*L2^2*M1*M3^2*R1^2*R3*g*cos(y1 + y3 + y5) + 2*L1^2*M2*M3^2*R2^2*R3*g*cos(y1 + y3 + y5) + L1^2*M2^2*M3*R2^2*R3*g*cos(y1 + y3 + y5) + 2*L1^3*L2^2*M2*M3^2*R3*y2^2*sin(y3 + y5) + 4*L1^3*M2*M3^2*R2^2*R3*y2^2*sin(y3 + y5) + 2*L1^3*M2^2*M3*R2^2*R3*y2^2*sin(y3 + y5) + 2*L1^2*M2*M3^2*R2^2*R3^2*y2^2*sin(2*y3 + 2*y5) + 2*L1^2*M2*M3^2*R2^2*R3^2*y4^2*sin(2*y3 + 2*y5) + 2*L1^2*M2*M3^2*R2^2*R3^2*y6^2*sin(2*y3 + 2*y5) - 2*L1^3*L2*M2*M3^2*R3^2*y2^2*sin(y3) + 4*L1^2*L2*M2*M3^2*R3^3*y2^2*sin(y5) + 4*L1^2*L2^3*M2*M3^2*R3*y2^2*sin(y5) + 4*L1^2*L2*M2*M3^2*R3^3*y4^2*sin(y5) + 4*L1^2*L2^3*M2*M3^2*R3*y4^2*sin(y5) + 4*L1^2*L2*M2*M3^2*R3^3*y6^2*sin(y5) - 2*L1^3*M2*M3^2*R2*R3^2*y2^2*sin(y3) - 4*L1^3*M2^2*M3*R2*R3^2*y2^2*sin(y3) + 4*L2*M1*M3^2*R1^2*R3^3*y2^2*sin(y5) + 4*L2^3*M1*M3^2*R1^2*R3*y2^2*sin(y5) - 2*L1^2*M2*M3^2*R2*R3^3*y2^2*sin(y5) - 2*L1^2*M2^2*M3*R2^3*R3*y2^2*sin(y5) + 4*L2*M1*M3^2*R1^2*R3^3*y4^2*sin(y5) + 4*L2^3*M1*M3^2*R1^2*R3*y4^2*sin(y5) - 2*L1^2*M2*M3^2*R2*R3^3*y4^2*sin(y5) - 2*L1^2*M2^2*M3*R2^3*R3*y4^2*sin(y5) + 4*L2*M1*M3^2*R1^2*R3^3*y6^2*sin(y5) - 2*L1^2*M2*M3^2*R2*R3^3*y6^2*sin(y5) - 2*L1^2*M2*M3*R2*R3*u2*cos(2*y3 + y5) + 4*L1^2*M2*M3*R2*R3*u3*cos(2*y3 + y5) + 4*L1^2*L2*M2*M3*R2*u3*cos(2*y3) - L1^2*L2^2*M2*M3^2*R3*g*cos(y1 + y3 - y5) + L1^2*L2^2*M2*M3^2*R3*g*cos(y1 - y3 + y5) - L1^2*L2^2*M2*M3^2*R3*g*cos(y3 - y1 + y5) + L1^2*L2*M2*M3^2*R3^2*g*cos(y1 + y3 + 2*y5) - 2*L2^2*M1*M3^2*R1^2*R3*g*cos(y1 + y3 - y5) + 2*L2*M1*M3^2*R1^2*R3^2*g*cos(y1 + y3 + 2*y5) - 2*L1^2*M2*M3^2*R2^2*R3*g*cos(y3 - y1 + y5) + L1^2*M2^2*M3*R2^2*R3*g*cos(y1 + y3 - y5) - L1^2*M2^2*M3*R2^2*R3*g*cos(y1 - y3 + y5) - L1^2*M2^2*M3*R2^2*R3*g*cos(y3 - y1 + y5) - L1^2*M2*M3^2*R2*R3^2*g*cos(y1 + y3 + 2*y5) - 2*L1^3*L2^2*M2*M3^2*R3*y2^2*sin(y3 - y5) + 2*L1^3*L2*M2*M3^2*R3^2*y2^2*sin(y3 + 2*y5) + L1*L2*M1*M3^2*R1*R3^2*g*cos(y1 + y3) - 4*M1*M2*M3*R1^2*R2*R3^2*g*cos(y1 + y3) - 2*L1*L2*M1*M3^2*R1^2*R3^2*y2^2*sin(y3) + 2*L1^2*L2*M2*M3^2*R2^2*R3*y2^2*sin(y5) + 2*L1^2*L2*M2^2*M3*R2^2*R3*y2^2*sin(y5) - 6*L1^2*L2^2*M2*M3^2*R2*R3*y2^2*sin(y5) + 2*L1^2*L2*M2*M3^2*R2^2*R3*y4^2*sin(y5) + 2*L1^2*L2*M2^2*M3*R2^2*R3*y4^2*sin(y5) - 6*L1^2*L2^2*M2*M3^2*R2*R3*y4^2*sin(y5) - 4*L1^2*M2*M3^2*R2*R3^3*y2*y4*sin(2*y3 + y5) + 4*L1^2*M2^2*M3*R2^3*R3*y2*y4*sin(2*y3 + y5) - 4*L1^2*M2*M3^2*R2*R3^3*y2*y6*sin(2*y3 + y5) - 4*L1^2*M2*M3^2*R2*R3^3*y4*y6*sin(2*y3 + y5) - L1*L2*M1*M3^2*R1*R3^2*g*cos(y3 - y1 + 2*y5) - 2*L1*L2^2*M1*M3^2*R1^2*R3*y2^2*sin(y3 - y5) + 2*L1*L2*M1*M3^2*R1^2*R3^2*y2^2*sin(y3 + 2*y5) + 2*L1^2*L2*M2*M3^2*R2^2*R3*y2^2*sin(2*y3 + y5) - 2*L1^2*L2*M2^2*M3*R2^2*R3*y2^2*sin(2*y3 + y5) - 2*L1^2*L2^2*M2*M3^2*R2*R3*y2^2*sin(2*y3 + y5) + 2*L1^2*L2*M2*M3^2*R2^2*R3*y4^2*sin(2*y3 + y5) - 2*L1^2*L2*M2^2*M3*R2^2*R3*y4^2*sin(2*y3 + y5) - 2*L1^2*L2^2*M2*M3^2*R2*R3*y4^2*sin(2*y3 + y5) - 2*L1*L2*M2*M3*R2*R3*u1*cos(y3 + y5) + 2*L1*L2*M2*M3*R2*R3*u2*cos(y3 + y5) + L1*L2*M1*M3^2*R1*R3^2*g*cos(y1 - y3) - 2*L1^2*L2*M2*M3^2*R2*R3^2*y2^2*sin(2*y3) - 4*L1^2*L2*M2*M3^2*R2*R3^2*y2^2*sin(2*y5) - 2*L1^2*L2*M2*M3^2*R2*R3^2*y4^2*sin(2*y3) - 4*L1^2*L2*M2*M3^2*R2*R3^2*y4^2*sin(2*y5) - 2*L1^2*L2*M2*M3^2*R2*R3^2*y6^2*sin(2*y5) - L1*L2^2*M1*M3^2*R1*R3*g*cos(y1 + y3 + y5) - 3*L1^2*L2*M2*M3^2*R2*R3*g*cos(y1 + y3 + y5) - L1^2*L2*M2^2*M3*R2*R3*g*cos(y1 + y3 + y5) + 4*M1*M2*M3*R1^2*R2^2*R3*g*cos(y1 + y3 + y5) - 6*L1^3*L2*M2*M3^2*R2*R3*y2^2*sin(y3 + y5) - 2*L1^3*L2*M2^2*M3*R2*R3*y2^2*sin(y3 + y5) + 8*L1^2*L2^2*M2*M3^2*R3^2*y2*y4*sin(2*y5) + 4*L1^2*L2^2*M2*M3^2*R3^2*y2*y6*sin(2*y5) + 4*L1^2*L2^2*M2*M3^2*R3^2*y4*y6*sin(2*y5) - 4*L1^2*M2^2*M3*R2^2*R3^2*y2*y4*sin(2*y3) + 8*L2^2*M1*M3^2*R1^2*R3^2*y2*y4*sin(2*y5) + 4*L2^2*M1*M3^2*R1^2*R3^2*y2*y6*sin(2*y5) + 4*L2^2*M1*M3^2*R1^2*R3^2*y4*y6*sin(2*y5) - 2*L1^2*L2*M2*M3^2*R2*R3^2*y2^2*sin(2*y3 + 2*y5) - 2*L1^2*L2*M2*M3^2*R2*R3^2*y4^2*sin(2*y3 + 2*y5) - 2*L1^2*L2*M2*M3^2*R2*R3^2*y6^2*sin(2*y3 + 2*y5) - 2*L1*L2*M2*M3*R2*R3*u1*cos(y3 - y5) + 2*L1*L2*M2*M3*R2*R3*u2*cos(y3 - y5) + 4*L1^2*M2*M3^2*R2^2*R3^2*y2*y4*sin(2*y3 + 2*y5) + 4*L1^2*M2*M3^2*R2^2*R3^2*y2*y6*sin(2*y3 + 2*y5) + 4*L1^2*M2*M3^2*R2^2*R3^2*y4*y6*sin(2*y3 + 2*y5) + 8*L1^2*L2*M2*M3^2*R3^3*y2*y4*sin(y5) + 8*L1^2*L2^3*M2*M3^2*R3*y2*y4*sin(y5) + 8*L1^2*L2*M2*M3^2*R3^3*y2*y6*sin(y5) + 8*L1^2*L2*M2*M3^2*R3^3*y4*y6*sin(y5) + 8*L2*M1*M3^2*R1^2*R3^3*y2*y4*sin(y5) + 8*L2^3*M1*M3^2*R1^2*R3*y2*y4*sin(y5) - 4*L1^2*M2*M3^2*R2*R3^3*y2*y4*sin(y5) - 4*L1^2*M2^2*M3*R2^3*R3*y2*y4*sin(y5) + 8*L2*M1*M3^2*R1^2*R3^3*y2*y6*sin(y5) - 4*L1^2*M2*M3^2*R2*R3^3*y2*y6*sin(y5) + 8*L2*M1*M3^2*R1^2*R3^3*y4*y6*sin(y5) - 4*L1^2*M2*M3^2*R2*R3^3*y4*y6*sin(y5) + L1*L2^2*M1*M3^2*R1*R3*g*cos(y1 + y3 - y5) + L1*L2^2*M1*M3^2*R1*R3*g*cos(y1 - y3 + y5) - L1*L2^2*M1*M3^2*R1*R3*g*cos(y3 - y1 + y5) - L1*L2*M1*M3^2*R1*R3^2*g*cos(y1 + y3 + 2*y5) + L1^2*L2*M2*M3^2*R2*R3*g*cos(y1 + y3 - y5) - L1^2*L2*M2*M3^2*R2*R3*g*cos(y1 - y3 + y5) + 3*L1^2*L2*M2*M3^2*R2*R3*g*cos(y3 - y1 + y5) - L1^2*L2*M2^2*M3*R2*R3*g*cos(y1 + y3 - y5) + L1^2*L2*M2^2*M3*R2*R3*g*cos(y1 - y3 + y5) + L1^2*L2*M2^2*M3*R2*R3*g*cos(y3 - y1 + y5) + 2*L1^3*L2*M2*M3^2*R2*R3*y2^2*sin(y3 - y5) - 2*L1^3*L2*M2^2*M3*R2*R3*y2^2*sin(y3 - y5) + 2*L1*L2^2*M1*M3^2*R1^2*R3*y2^2*sin(y3 + y5) + 2*L1*M1*M2*M3*R1*R2*R3^2*g*cos(y1 + y3) - 4*L1*M1*M2*M3*R1^2*R2*R3^2*y2^2*sin(y3) + 4*L2*M1*M2*M3*R1^2*R2^2*R3*y2^2*sin(y5) + 4*L2*M1*M2*M3*R1^2*R2^2*R3*y4^2*sin(y5) + 4*L1^2*L2*M2*M3^2*R2^2*R3*y2*y4*sin(y5) + 4*L1^2*L2*M2^2*M3*R2^2*R3*y2*y4*sin(y5) - 12*L1^2*L2^2*M2*M3^2*R2*R3*y2*y4*sin(y5) + 2*L1*M1*M2*M3*R1*R2*R3^2*g*cos(y1 - y3) + 4*L1^2*L2*M2*M3^2*R2^2*R3*y2*y4*sin(2*y3 + y5) - 4*L1^2*L2*M2^2*M3*R2^2*R3*y2*y4*sin(2*y3 + y5) - 4*L1^2*L2^2*M2*M3^2*R2*R3*y2*y4*sin(2*y3 + y5) - 2*L1*M1*M2*M3*R1*R2^2*R3*g*cos(y1 + y3 + y5) - 2*L2*M1*M2*M3*R1^2*R2*R3*g*cos(y1 + y3 + y5) - 4*L1^2*L2*M2*M3^2*R2*R3^2*y2*y4*sin(2*y3) - 8*L1^2*L2*M2*M3^2*R2*R3^2*y2*y4*sin(2*y5) - 4*L1^2*L2*M2*M3^2*R2*R3^2*y2*y6*sin(2*y5) - 4*L1^2*L2*M2*M3^2*R2*R3^2*y4*y6*sin(2*y5) - 4*L1^2*L2*M2*M3^2*R2*R3^2*y2*y4*sin(2*y3 + 2*y5) - 4*L1^2*L2*M2*M3^2*R2*R3^2*y2*y6*sin(2*y3 + 2*y5) - 4*L1^2*L2*M2*M3^2*R2*R3^2*y4*y6*sin(2*y3 + 2*y5) - 2*L1*M1*M2*M3*R1*R2^2*R3*g*cos(y3 - y1 + y5) - 2*L2*M1*M2*M3*R1^2*R2*R3*g*cos(y1 + y3 - y5) + 4*L1*M1*M2*M3*R1^2*R2^2*R3*y2^2*sin(y3 + y5) + 8*L2*M1*M2*M3*R1^2*R2^2*R3*y2*y4*sin(y5) - 2*L1*L2*M1*M2*M3*R1^2*R2*R3*y2^2*sin(y3 - y5) + L1*L2*M1*M2*M3*R1*R2*R3*g*cos(y1 + y3 + y5) + L1*L2*M1*M2*M3*R1*R2*R3*g*cos(y1 + y3 - y5) + L1*L2*M1*M2*M3*R1*R2*R3*g*cos(y1 - y3 + y5) + L1*L2*M1*M2*M3*R1*R2*R3*g*cos(y3 - y1 + y5) - 2*L1*L2*M1*M2*M3*R1^2*R2*R3*y2^2*sin(y3 + y5))/(2*M3*R3^2*(L1^2*M2^2*R2^2 + L1^2*L2^2*M2*M3 + L2^2*M1*M3*R1^2 + L1^2*M2*M3*R2^2 + 2*M1*M2*R1^2*R2^2 - L1^2*M2^2*R2^2*cos(2*y3) - L1^2*L2*M2*M3*R2 - L1^2*L2^2*M2*M3*cos(2*y5) - L2^2*M1*M3*R1^2*cos(2*y5) - L1^2*M2*M3*R2^2*cos(2*y3 + 2*y5) - L1^2*L2*M2*M3*R2*cos(2*y3) + L1^2*L2*M2*M3*R2*cos(2*y5) + L1^2*L2*M2*M3*R2*cos(2*y3 + 2*y5)))

dy = [dy1 dy2 dy3 dy4 dy5 dy6]'; 